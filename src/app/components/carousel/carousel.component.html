<div class="relative w-full overflow-hidden bg-gray-900 min-h-screen">
  <!-- Carousel container -->
  <div class="relative h-full py-8">
    <!-- TODO: responsive design for scroll buttons and their margin -->
    <!-- Left scroll area with overlay -->
    <div
      *ngIf="canScrollLeft"
      class="absolute left-0 top-0 w-32 h-full z-20 group"
    >
      <!-- Left scroll button -->
      <button
        (click)="scrollLeft()"
        class="absolute left-4 md:left-8 top-1/2 transform -translate-y-1/2 z-30 bg-black bg-opacity-60 hover:bg-opacity-80 text-white rounded-full p-3 md:p-4 transition-all duration-200 shadow-lg"
        aria-label="Scroll left"
      >
        <svg
          class="w-6 h-6 md:w-8 md:h-8"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          />
        </svg>
      </button>

      <!-- Left hover overlay -->
      <div
        class="absolute left-0 top-0 h-full bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 w-[84px] md:w-[112px]"
      ></div>
    </div>

    <!-- Right scroll area with overlay -->
    <div
      *ngIf="canScrollRight"
      class="absolute right-0 top-0 w-32 h-full z-20 group"
    >
      <!-- Right scroll button -->
      <button
        (click)="scrollRight()"
        class="absolute right-4 md:right-8 top-1/2 transform -translate-y-1/2 z-30 bg-black bg-opacity-60 hover:bg-opacity-80 text-white rounded-full p-3 md:p-4 transition-all duration-200 shadow-lg"
        aria-label="Scroll right"
      >
        <svg
          class="w-6 h-6 md:w-8 md:h-8"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"
          />
        </svg>
      </button>

      <!-- Right hover overlay -->
      <div
        class="absolute right-0 top-0 h-full bg-black bg-opacity-20 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 w-[84px] md:w-[112px]"
      ></div>
    </div>

    <!-- Carousel items -->
    <div class="relative flex h-full items-center overflow-hidden">
      <!-- Single carousel ribbon with all items including previews -->
      <div
        class="flex transition-transform duration-500 ease-in-out h-full items-center px-4 md:px-8"
        [style.gap.px]="itemGap"
        [style.transform]="getCarouselTransform()"
      >
        <div
          *ngFor="let item of visibleItems; let i = index"
          class="flex-shrink-0"
          [style.width]="getItemWidth()"
          [class.opacity-40]="getItemOpacity(i)"
        >
          <a
            [href]="item.canonicalUrl"
            target="_blank"
            rel="noopener noreferrer"
            class="relative group cursor-pointer h-full w-full block"
            [attr.aria-label]="item.heading"
          >
            <div
              class="aspect-[2/3] overflow-hidden rounded-sm shadow-2xl bg-gray-800"
            >
              <img
                [src]="getImageUrl(item)"
                [alt]="item.heading"
                [sizes]="getImageSizes()"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                loading="lazy"
              />
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div
    *ngIf="items.length === 0"
    class="absolute inset-0 flex items-center justify-center"
  >
    <div class="text-white text-xl">Loading content...</div>
  </div>
</div>
